<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Chapter7</title>
</head>
<body>
    <div id="app">
        <div class="container">
            <h1>Lets hear some stories!</h1>
            <div>
                <ul class="list-group">
                    <story v-for="(story, index) in stories" :key="index" :story="story"></story>
                </ul>
            </div>
        </div>
    </div>
</body>

<template id="story-template">
    <li class="list-group-item">
        {{ story.writer }} said "{{ story.plot }}"
        Story upvotes {{ story.upvotes }}.
        <button v-show="!story.voted" @click="upvote" class="btn btn-default">Upvote</button>
    </li>
</template>

<script>
    Vue.component('story', {
        template: '#story-template',
        props: ['story'],
        methods: {
            upvote: function (){
                this.story.upvotes += 1
                this.story.voted = true
            }
        }
    });

    new Vue({
        el: '#app',
        data: {
            stories: [
                {
                    plot: 'My horse is amazing.',
                    writer: 'Mr. Weebl',
                    upvotes: 28,
                    voted: false,
                },
                {
                    plot: 'Narwhals invented Shish Kebab.',
                    writer: 'Mr. Weebl',
                    upvotes: 8,
                    voted: false,
                },
                {
                    plot: 'The dark side of the Force is stronger.',
                    writer: 'Darth Vader',
                    upvotes: 49,
                    voted: false,
                },
                {
                    plot: 'One does not simply walk into Mordor',
                    writer: 'Boromir',
                    upvotes: 74,
                    voted: false,
                },
            ]
        }
    });
</script>
</html>